{% extends "base.html"%}
{% block content%}

<section class="hero">
    <div class="hero-body">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <h2 class="card-header">Usuario</h2>
                        <form name="sent" action="{{ url_for('administrador.updateUser',id = user.id) }}" id="from1"
                            method="POST" enctype="multipart/form-data">
                            <div class="form-group">
                                <div class="input-group">
                                    <input class="form-control" name="txtId" type="text" value="{{user.id}}"
                                        placeholder="" disabled hidden>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-form-label">Nombre de usuario</label>
                                <div class="input-group">
                                    <input class="form-control"  name="txtNombreUser" type="text"
                                        placeholder="Ingresa el nombre de usuario" value="{{user.name}}">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-form-label">Email:</label>
                                <div class="input-group">
                                    <input class="form-control"  name="txtEmailUser" type="email" value="{{user.email}}"
                                        placeholder="Ingresa el estilo de la prenda">
                                </div>
                            </div>

                            <div id="inputs-container" class="form-group">
                                <label class="col-form-label">Contraseña:</label>
                                <div class="input-group">
                                    <input readonly class="form-control" name="txtContrasenaUser" type="password" value="{{user.password}}">
                                    </div>
                                <button class="btn btn-primary my-3" type="button" onclick="mostrarInput()">Cambiar contraseña</button>
                            </div>
                            <div class="input-group"></div>
                                <input style="display: none;" class="form-control" id="txtNuevaCont" name="txtNuevaCont" type="text" placeholder="Escriba la nueva contraseña">
                            </div>
                            <div class="form-group">
                                <label class="col-form-label">Rol de usuario:</label><br>
                                <input type="radio" name="rolUser" value="0">
                                <label>Cliente</label>
                                <input type="radio" name="rolUser" value="1">
                                <label>Empleado</label>
                            </div>                          
                            
                            <div class="form-group text-center">
                                <button class="btn btn-warning" name="modificar">Modificar</button>
                                <a href="/getAllUsers" class="btn btn-info"><i
                                        class="icon-action-undo"></i>Cancelar</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>
<script>
// Obtener el valor del rol del usuario
if ("{{user.empleado}}" === "True") {
  var esEmpleado = true;
}else{
  var esEmpleado = false;
}
// Obtener todos los inputs de los radiobuttons del grupo
var inputs = document.querySelectorAll('input[name="rolUser"]');

// Establecer "checked" en true para el input correspondiente
if (esEmpleado) {
  inputs[1].checked = true; // seleccionar el primer input si el usuario es empleado
} else {
  inputs[0].checked = true; // seleccionar el segundo input si el usuario no es empleado
}
function mostrarInput() {
  var inputNuevaCont = document.getElementById("txtNuevaCont");
  inputNuevaCont.style.display = "block";
}            
</script>
{% endblock %}